<html><head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="2.2 The Big Picture"-->
<link rel="STYLESHEET" type="text/css" href="FILES/style.css">
<link rel="STYLESHEET" type="text/css" href="FILES/docsafari.css">
<style type="text/css">	.tt1    {font-size: 10pt;}</style>
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
	<a href="0131411551_ch02lev1sec1.html"><img src="FILES/btn_prev.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
	<a href="0131411551_ch02lev1sec3.html"><img src="FILES/btn_next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><A NAME="ch02lev1sec2"></A>
<H3 class="docSection1Title">2.2 The Big Picture</H3>
<P class="docText">Although the protocol suite is called "TCP/IP," there are more members of this family than just TCP and IP. <A class="docLink" HREF="#ch02fig01">Figure 2.1</A> shows an overview of these protocols.</P>
<CENTER>
<H5 class="docFigureTitle"><A NAME="ch02fig01"></A>Figure 2.1. Overview of TCP/IP protocols.</H5>

<p class="docText">
<IMG BORDER="0" WIDTH="500" HEIGHT="325" src="FILES/02fig01.gif" ALT="graphics/02fig01.gif"></p>

</CENTER>
<P class="docText">We show both IPv4 and IPv6 in this figure. Moving from right to left, the rightmost five applications are using IPv6; we will talk about the <TT>AF_INET6</TT> constant in <A class="docLink" HREF="0131411551_ch03.html#ch03">Chapter 3</A>, along with the <TT>sockaddr_in6</TT> structure. The next six applications use IPv4.</P>
<P class="docText">The leftmost application, <TT>tcpdump</TT>, communicates directly with the datalink using either the BSD packet filter (BPF) or the datalink provider interface (DLPI). We mark the dashed line beneath the nine applications on the right as the <span class="docEmphasis">API</span>, which is normally sockets or XTI. The interface to either BPF or DLPI does not use sockets or XTI.</P>
<BLOCKQUOTE><P><P class="docList">There is an exception to this, which we will describe in more detail in <A class="docLink" HREF="0131411551_ch28.html#ch28">Chapter 28</A>: Linux provides access to the datalink using a special type of socket called <TT>SOCK_PACKET</TT>.</P></P></BLOCKQUOTE>
<P class="docText">We also note in <A class="docLink" HREF="#ch02fig01">Figure 2.1</A> that the <TT>traceroute</TT> program uses two sockets: one for IP and another for ICMP. In <A class="docLink" HREF="0131411551_ch28.html#ch28">Chapter 28</A>, we will develop IPv4 and IPv6 versions of both <TT>ping</TT> and <TT>traceroute</TT>.</P>
<P class="docText">We now describe each of the protocol boxes in this figure.</P>
<P><TABLE CELLSPACING="0" FRAME="void" RULES="none" CELLPADDING="5" WIDTH="100%"><COLGROUP align="left" span="2"><THEAD></THEAD><TR><TD class="docTableCell" valign="top"><P class="docText">IPv4</P></TD><TD class="docTableCell" valign="top"><P class="docText"><span class="docEmphasis">Internet Protocol version 4</span>. IPv4, which we often denote as just IP, has been the workhorse protocol of the IP suite since the early 1980s. It uses 32-bit addresses (<A class="docLink" HREF="0131411551_app01lev1sec4.html#app01lev1sec4">Section A.4</A>). IPv4 provides packet delivery service for TCP, UDP, SCTP, ICMP, and IGMP.</P></TD></TR><TR><TD class="docTableCell" valign="top"><P class="docText">IPv6</P></TD><TD class="docTableCell" valign="top"><P class="docText"><span class="docEmphasis">Internet Protocol version 6</span>. IPv6 was designed in the mid-1990s as a replacement for IPv4. The major change is a larger address comprising 128 bits (<A class="docLink" HREF="0131411551_app01lev1sec5.html#app01lev1sec5">Section A.5</A>), to deal with the explosive growth of the Internet in the 1990s. IPv6 provides packet delivery service for TCP, UDP, SCTP, and ICMPv6.</P>
<P class="docText">We often use the word "<span class="docEmphasis">IP</span>" as an adjective, as in <span class="docEmphasis">IP layer</span> and <span class="docEmphasis">IP address</span>, when the distinction between IPv4 and IPv6 is not needed.</P></TD></TR><TR><TD class="docTableCell" valign="top"><P class="docText">TCP</P></TD><TD class="docTableCell" valign="top"><P class="docText"><span class="docEmphasis">Transmission Control Protocol</span>. TCP is a connection-oriented protocol that provides a reliable, full-duplex byte stream to its users. TCP sockets are an example of <span class="docEmphasis">stream sockets</span>. TCP takes care of details such as acknowledgments, timeouts, retransmissions, and the like. Most Internet application programs use TCP. Notice that TCP can use either IPv4 or IPv6.</P></TD></TR><TR><TD class="docTableCell" valign="top"><P class="docText">UDP</P></TD><TD class="docTableCell" valign="top"><P class="docText"><span class="docEmphasis">User Datagram Protocol</span>. UDP is a connectionless protocol, and UDP sockets are an example of <span class="docEmphasis">datagram sockets</span>. There is no guarantee that UDP datagrams ever reach their intended destination. As with TCP, UDP can use either IPv4 or IPv6.</P></TD></TR><TR><TD class="docTableCell" valign="top"><P class="docText">SCTP</P></TD><TD class="docTableCell" valign="top"><P class="docText"><span class="docEmphasis">Stream Control Transmission Protocol</span>. SCTP is a connection-oriented protocol that provides a reliable full-duplex association. The word "<span class="docEmphasis">association</span>" is used when referring to a connection in SCTP because SCTP is multihomed, involving a set of IP addresses and a single port for each side of an association. SCTP provides a message service, which maintains record boundaries. As with TCP and UDP, SCTP can use either IPv4 or IPv6, but it can also use both IPv4 and IPv6 simultaneously on the same association.</P></TD></TR><TR><TD class="docTableCell" valign="top"><P class="docText">ICMP</P></TD><TD class="docTableCell" valign="top"><P class="docText"><span class="docEmphasis">Internet Control Message Protocol</span>. ICMP handles error and control information between routers and hosts. These messages are normally generated by and processed by the TCP/IP networking software itself, not user processes, although we show the <TT>ping</TT> and <TT>traceroute</TT> programs, which use ICMP. We sometimes refer to this protocol as ICMPv4 to distinguish it from ICMPv6.</P></TD></TR><TR><TD class="docTableCell" valign="top"><P class="docText">IGMP</P></TD><TD class="docTableCell" valign="top"><P class="docText"><span class="docEmphasis">Internet Group Management Protocol</span>. IGMP is used with multicasting (<A class="docLink" HREF="0131411551_ch21.html#ch21">Chapter 21</A>), which is optional with IPv4.</P></TD></TR><TR><TD class="docTableCell" valign="top"><P class="docText">ARP</P></TD><TD class="docTableCell" valign="top"><P class="docText"><span class="docEmphasis">Address Resolution Protocol</span>. ARP maps an IPv4 address into a hardware address (such as an Ethernet address). ARP is normally used on broadcast networks such as Ethernet, token ring, and FDDI, and is not needed on point-to-point networks.</P></TD></TR><TR><TD class="docTableCell" valign="top"><P class="docText">RARP</P></TD><TD class="docTableCell" valign="top"><P class="docText"><span class="docEmphasis">Reverse Address Resolution Protocol</span>. RARP maps a hardware address into an IPv4 address. It is sometimes used when a diskless node is booting.</P></TD></TR><TR><TD class="docTableCell" valign="top"><P class="docText">ICMPv6</P></TD><TD class="docTableCell" valign="top"><P class="docText"><span class="docEmphasis">Internet Control Message Protocol version 6</span>. ICMPv6 combines the functionality of ICMPv4, IGMP, and ARP.</P></TD></TR><TR><TD class="docTableCell" valign="top"><P class="docText">BPF</P></TD><TD class="docTableCell" valign="top"><P class="docText"><span class="docEmphasis">BSD packet filter</span>. This interface provides access to the datalink layer. It is normally found on Berkeley-derived kernels.</P></TD></TR><TR><TD class="docTableCell" valign="top"><P class="docText">DLPI</P></TD><TD class="docTableCell" valign="top"><P class="docText"><span class="docEmphasis">Datalink provider interface</span>. This interface also provides access to the datalink layer. It is normally provided with SVR4.</P></TD></TR></COLGROUP></TABLE></P>
<P class="docText">Each Internet protocol is defined by one or more documents called a <span class="docEmphasis">Request for Comments (RFC)</span>, which are their formal specifications. The solution to <A class="docLink" HREF="0131411551_ch02lev1sec15.html#ch02lev1sec15">Exercise 2.1</A> shows how to obtain RFCs.</P>
<P class="docText">We use the terms "<span class="docEmphasis">IPv4/IPv6 host</span>" and "<span class="docEmphasis">dual-stack host</span>" to denote hosts that support both IPv4 and IPv6.</P>
<P class="docText">Additional details on the TCP/IP protocols themselves are in TCPv1. The 4.4BSD implementation of TCP/IP is described in TCPv2.</P>

<ul></ul></td></tr></table>
<td></td>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
          <a href="0131411551_ch02lev1sec1.html"><img src="FILES/btn_prev.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
          <a href="0131411551_ch02lev1sec3.html"><img src="FILES/btn_next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
</body></html>
