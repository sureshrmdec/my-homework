<html><head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="Exercises"-->
<link rel="STYLESHEET" type="text/css" href="FILES/style.css">
<link rel="STYLESHEET" type="text/css" href="FILES/docsafari.css">
<style type="text/css">	.tt1    {font-size: 10pt;}</style>
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
	<a href="0131411551_ch06lev1sec12.html"><img src="FILES/btn_prev.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
	<a href="0131411551_ch07.html"><img src="FILES/btn_next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><A NAME="ch06lev1sec13"></A>
<H3 class="docSection1Title"> Exercises</H3>
<P><TABLE BORDER="0" cellspacing="16" cellpadding="0"><TR valign="top"><TD align="right" class="docText"><A NAME="ch06q01"></A><B><A class="docLink" HREF="0131411551_app05lev1sec6.html#ch06a01">6.1</A></B></TD><TD><P class="docText">We said that a descriptor set can be assigned to another descriptor set across an equals sign in C. How is this done if a descriptor set is an array of integers? (<span class="docEmphasis">Hint</span>: Look at your system's <TT>&lt;sys/select.h&gt;</TT> or <TT>&lt;sys/types.h&gt;</TT> header.)</P></TD></TR><TR valign="top"><TD align="right" class="docText"><A NAME="ch06q02"></A><B><A class="docLink" HREF="0131411551_app05lev1sec6.html#ch06a02">6.2</A></B></TD><TD><P class="docText">When describing the conditions for which <TT>select</TT> returns "writable" in <A class="docLink" HREF="0131411551_ch06lev1sec3.html#ch06lev1sec3">Section 6.3</A>, why did we need the qualifier that the socket had to be nonblocking for a write operation to return a positive value?</P></TD></TR><TR valign="top"><TD align="right" class="docText"><A NAME="ch06q03"></A><B><A class="docLink" HREF="0131411551_app05lev1sec6.html#ch06a03">6.3</A></B></TD><TD><P class="docText">What happens in <A class="docLink" HREF="0131411551_ch06lev1sec4.html#ch06fig09">Figure 6.9</A> if we prepend the word <TT>"else"</TT> before the word <TT>"if"</TT> on line 19?</P></TD></TR><TR valign="top"><TD align="right" class="docText"><A NAME="ch06q04"></A><B><A class="docLink" HREF="0131411551_app05lev1sec6.html#ch06a04">6.4</A></B></TD><TD><P class="docText">In our example in <A class="docLink" HREF="0131411551_ch06lev1sec8.html#ch06fig21">Figure 6.21</A> add code to allow the server to be able to use as many descriptors as currently allowed by the kernel. (<span class="docEmphasis">Hint</span>: Look at the <TT>setrlimit</TT> function.)</P></TD></TR><TR valign="top"><TD align="right" class="docText"><A NAME="ch06q05"></A><B><A class="docLink" HREF="0131411551_app05lev1sec6.html#ch06a05">6.5</A></B></TD><TD><P class="docText">Let's see what happens when the second argument to <TT>shutdown</TT> is <TT>SHUT_RD</TT>. Start with the TCP client in <A class="docLink" HREF="0131411551_ch05lev1sec4.html#ch05fig04">Figure 5.4</A> and make the following changes: Change the port number from <TT>SERV_PORT</TT> to 19, the <TT>chargen</TT> server (<A class="docLink" HREF="0131411551_ch02lev1sec12.html#ch02fig18">Figure 2.18</A>); then, replace the call to <TT>str_cli</TT> with a call to the <TT>pause</TT> function. Run this program specifying the IP address of a local host that runs the <TT>chargen</TT> server. Watch the packets with a tool such as <TT>tcpdump</TT> (<A class="docLink" HREF="0131411551_app03lev1sec5.html#app03lev1sec5">Section C.5</A>). What happens?</P></TD></TR><TR valign="top"><TD align="right" class="docText"><A NAME="ch06q06"></A><B><A class="docLink" HREF="0131411551_app05lev1sec6.html#ch06a06">6.6</A></B></TD><TD><P class="docText">Why would an application call <TT>shutdown</TT> with an argument of <TT>SHUT_RDWR</TT> instead of just calling <TT>close</TT>?</P></TD></TR><TR valign="top"><TD align="right" class="docText"><A NAME="ch06q07"></A><B><A class="docLink" HREF="0131411551_app05lev1sec6.html#ch06a07">6.7</A></B></TD><TD><P class="docText">What happens in <A class="docLink" HREF="0131411551_ch06lev1sec8.html#ch06fig22">Figure 6.22</A> when the client sends an RST to terminate the connection?</P></TD></TR><TR valign="top"><TD align="right" class="docText"><A NAME="ch06q08"></A><B>6.8</B></TD><TD><P class="docText">Recode <A class="docLink" HREF="0131411551_ch06lev1sec11.html#ch06fig25">Figure 6.25</A> to call <TT>sysconf</TT> to determine the maximum number of descriptors and allocate the <TT>client</TT> array accordingly.</P></TD></TR></TABLE></P><br>


<a href="0131411551_22961534.html"><img src="FILES/pixel.gif" width="1" height="1" border="0"></a><ul></ul></td></tr></table>
<td></td>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
          <a href="0131411551_ch06lev1sec12.html"><img src="FILES/btn_prev.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
          <a href="0131411551_ch07.html"><img src="FILES/btn_next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
</body></html>
