<html><head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="30.2 TCP Client Alternatives"-->
<link rel="STYLESHEET" type="text/css" href="FILES/style.css">
<link rel="STYLESHEET" type="text/css" href="FILES/docsafari.css">
<style type="text/css">	.tt1    {font-size: 10pt;}</style>
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
	<a href="0131411551_ch30lev1sec1.html"><img src="FILES/btn_prev.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
	<a href="0131411551_ch30lev1sec3.html"><img src="FILES/btn_next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><A NAME="ch30lev1sec2"></A>
<H3 class="docSection1Title">30.2 TCP Client Alternatives</H3>
<P class="docText">We have already examined various client designs, but it is worth summarizing their strengths and weaknesses:</P>
<UL><LI><P class="docList"><A class="docLink" HREF="0131411551_ch05lev1sec5.html#ch05fig05">Figure 5.5</A> was the basic TCP client. There were two problems with this program. First, while it is blocked awaiting user input, it does not see network events such as the peer closing the connection. Additionally, it operates in a stop-and-wait mode, making it inefficient for batch processing.</P></LI><LI><P class="docList"><A class="docLink" HREF="0131411551_ch06lev1sec4.html#ch06fig09">Figure 6.9</A> was the next iteration, and by using <TT>select</TT>, the client was notified of network events while waiting for user input. However, this program did not handle batch mode correctly. <A class="docLink" HREF="0131411551_ch06lev1sec7.html#ch06fig13">Figure 6.13</A> corrected this problem by using the <TT>shutdown</TT> function.</P></LI><LI><P class="docList"><A class="docLink" HREF="0131411551_ch16lev1sec2.html#ch16fig03">Figure 16.3</A> began the presentation of our client using nonblocking I/O.</P></LI><LI><P class="docList">The first of our clients that went beyond the single-process, single-thread design was <A class="docLink" HREF="0131411551_ch16lev1sec2.html#ch16fig10">Figure 16.10</A>, which used <TT>fork</TT> with one process handling the client-to-server data and the other process handling the server-to-client data.</P></LI><LI><P class="docList"><A class="docLink" HREF="0131411551_ch26lev1sec3.html#ch26fig02">Figure 26.2</A> used two threads instead of two processes.</P></LI></UL>
<P class="docText">At the end of <A class="docLink" HREF="0131411551_ch16lev1sec2.html#ch16lev1sec2">Section 16.2</A>, we summarized the timing differences between these various versions. As we noted there, although the nonblocking I/O version was the fastest, the code was more complex and using either two processes or two threads simplifies the code.</P>

<a href="0131411551_23961534.html"><img src="FILES/pixel.gif" width="1" height="1" border="0"></a><ul></ul></td></tr></table>
<td></td>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
          <a href="0131411551_ch30lev1sec1.html"><img src="FILES/btn_prev.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
          <a href="0131411551_ch30lev1sec3.html"><img src="FILES/btn_next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
</body></html>
