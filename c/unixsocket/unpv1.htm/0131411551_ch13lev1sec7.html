<html><head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="13.7 Summary"-->
<link rel="STYLESHEET" type="text/css" href="FILES/style.css">
<link rel="STYLESHEET" type="text/css" href="FILES/docsafari.css">
<style type="text/css">	.tt1    {font-size: 10pt;}</style>
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
	<a href="0131411551_ch13lev1sec6.html"><img src="FILES/btn_prev.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
	<a href="0131411551_ch13lev1sec8.html"><img src="FILES/btn_next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><A NAME="ch13lev1sec7"></A>
<H3 class="docSection1Title">13.7 Summary</H3>
<P class="docText">Daemons are processes that run in the background independent of control from all terminals. Many network servers run as daemons. All output from a daemon is normally sent to the <TT>syslogd</TT> daemon by calling the <TT>syslog</TT> function. The administrator then has complete control over what happens to these messages, based on the daemon that sent the message and the severity of the message.</P>
<P class="docText">To start an arbitrary program and have it run as a daemon requires a few steps: Call <TT>fork</TT> to run in the background, call <TT>setsid</TT> to create a new POSIX session and become the session leader, <TT>fork</TT> again to avoid obtaining a new controlling terminal, change the working directory and the file mode creation mask, and close all unneeded files. Our <TT>daemon_init</TT> function handles all these details.</P>
<P class="docText">Many Unix servers are started by the <TT>inetd</TT> daemon. It handles all the required daemonization steps, and when the actual server is started, the socket is open on standard input, standard output, and standard error. This lets us omit calls to <TT>socket</TT>, <TT>bind</TT>, <TT>listen</TT>, and <TT>accept</TT>, since all these steps are handled by <TT>inetd</TT>.</P>

<ul></ul></td></tr></table>
<td></td>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
          <a href="0131411551_ch13lev1sec6.html"><img src="FILES/btn_prev.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
          <a href="0131411551_ch13lev1sec8.html"><img src="FILES/btn_next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
</body></html>
