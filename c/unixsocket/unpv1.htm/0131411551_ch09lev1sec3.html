<html><head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="9.3 'sctp_bindx' Function"-->
<link rel="STYLESHEET" type="text/css" href="FILES/style.css">
<link rel="STYLESHEET" type="text/css" href="FILES/docsafari.css">
<style type="text/css">	.tt1    {font-size: 10pt;}</style>
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
	<a href="0131411551_ch09lev1sec2.html"><img src="FILES/btn_prev.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
	<a href="0131411551_ch09lev1sec4.html"><img src="FILES/btn_next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><A NAME="ch09lev1sec3"></A>
<H3 class="docSection1Title">9.3 <TT>sctp_bindx</TT> Function</H3>
<P class="docText">An SCTP server may wish to bind a subset of IP addresses associated with the host system. Traditionally, a TCP or UDP server can bind one or all addresses on a host, but they cannot bind a subset of addresses. The <TT>sctp_bindx</TT> function provides more flexibility by allowing an SCTP socket to bind a particular subset of addresses.</P>
<P><TABLE CELLSPACING="0" BORDER="1" RULES="none" CELLPADDING="5" WIDTH="100%"><COLGROUP align="left" span="1"><THEAD></THEAD><TR><TD class="docTableCell" valign="top"><P class="docText"><TT>#include &lt;netinet/sctp.h&gt;</TT></P></TD></TR><TR><TD class="docTableCell" valign="top"><P class="docText"><TT>int sctp_bindx(int</TT> <span class="docEmphasis">sockfd</span>, <TT>const struct sockaddr *</TT><span class="docEmphasis">addrs</span>, <TT>int</TT> <span class="docEmphasis">addrcnt</span>, <TT>int</TT> <span class="docEmphasis">flags</span><TT>);</TT></P></TD></TR><TR><TD class="docTableCell" align="right" valign="top"><P class="docText">Returns: 0 if OK, –1 on error</P></TD></TR></COLGROUP></TABLE></P>
<P class="docText">The <span class="docEmphasis">sockfd</span> is a socket descriptor returned by the <TT>socket</TT> function. The second argument, <span class="docEmphasis">addrs</span>, is a pointer to a packed list of addresses. Each socket address structure is placed in the buffer immediately following the preceding socket address structure, with no intervening padding. See <A class="docLink" HREF="0131411551_ch09lev1sec4.html#ch09fig04">Figure 9.4</A> for an example.</P>
<P class="docText">The number of addresses being passed to <TT>sctp_bindx</TT> is specified by the <span class="docEmphasis">addrcnt</span> parameter. The <span class="docEmphasis">flags</span> parameter directs the <TT>sctp_bindx</TT> call to perform one of the two actions shown in <A class="docLink" HREF="#ch09fig03">Figure 9.3</A>.</P>
<CENTER>
<H5 class="docFigureTitle"><A NAME="ch09fig03"></A>Figure 9.3. <span class="docEmphasis">flags</span> used with <TT>sctp_bindx</TT> function.</H5>

<p class="docText">
<IMG BORDER="0" WIDTH="443" HEIGHT="67" src="FILES/09fig03.gif" ALT="graphics/09fig03.gif"></p>

</CENTER>
<P class="docText">The <TT>sctp_bindx</TT> call can be used on a bound or unbound socket. For an unbound socket, a call to <TT>sctp_bindx</TT> will bind the given set of addresses to the socket descriptor. If <TT>sctp_bindx</TT> is used on a bound socket, the call can be used with <TT>SCTP_BINDX_ADD_ADDR</TT> to associate additional addresses with the socket descriptor or with <TT>SCTP_BINDX_REM_ADDR</TT> to remove a list of addresses associated with the socket descriptor. If <TT>sctp_bindx</TT> is performed on a listening socket, future associations will use the new address configuration; the change does not affect any existing associations. The two flags passed to <TT>sctp_bindx</TT> are mutually exclusive; if both are given, <TT>sctp_bindx</TT> will fail, returning the error code <TT>EINVAL</TT>. The port number in all the socket address structures must be the same and must match any port number that is already bound; if it doesn't, then <TT>sctp_bindx</TT> will fail, returning the error code <TT>EINVAL</TT>.</P>
<P class="docText">If an endpoint supports the dynamic address feature, a call to <TT>sctp_bindx</TT> with the <TT>SCTP_BINDX_REM_ADDR</TT> or <TT>SCTP_BINDX_ADD_ADDR</TT> flag will cause the endpoint to send an appropriate message to the peer to change the peer's address lists. Since adding and removing addresses from a connected association is optional functionality, implementations that do not support this functionality will return <TT>EOPNOTSUPP</TT>. Note that both ends of an association must support this feature for proper operation. This feature can be useful if the system supports dynamic provisioning of interfaces; for example, if a new Ethernet interface is brought up, the application can use <TT>SCTP_BINDX_ADD_ADDR</TT> to start using the additional interface on an existing connection.</P>

<ul></ul></td></tr></table>
<td></td>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
          <a href="0131411551_ch09lev1sec2.html"><img src="FILES/btn_prev.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
          <a href="0131411551_ch09lev1sec4.html"><img src="FILES/btn_next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
</body></html>
