<html><head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="Exercises"-->
<link rel="STYLESHEET" type="text/css" href="FILES/style.css">
<link rel="STYLESHEET" type="text/css" href="FILES/docsafari.css">
<style type="text/css">	.tt1    {font-size: 10pt;}</style>
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
	<a href="0131411551_ch08lev1sec16.html"><img src="FILES/btn_prev.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
	<a href="0131411551_ch09.html"><img src="FILES/btn_next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><A NAME="ch08lev1sec17"></A>
<H3 class="docSection1Title"> Exercises</H3>
<P><TABLE BORDER="0" cellspacing="16" cellpadding="0"><TR valign="top"><TD align="right" class="docText"><A NAME="ch08q01"></A><B><A class="docLink" HREF="0131411551_app05lev1sec8.html#ch08a01">8.1</A></B></TD><TD><P class="docText">We have two applications, one using TCP and the other using UDP. 4,096 bytes are in the receive buffer for the TCP socket and two 2,048-byte datagrams are in the receive buffer for the UDP socket. The TCP application calls <TT>read</TT> with a third argument of 4,096 and the UDP application calls <TT>recvfrom</TT> with a third argument of 4,096. Is there any difference?</P></TD></TR><TR valign="top"><TD align="right" class="docText"><A NAME="ch08q02"></A><B><A class="docLink" HREF="0131411551_app05lev1sec8.html#ch08a02">8.2</A></B></TD><TD><P class="docText">What happens in <A class="docLink" HREF="0131411551_ch08lev1sec4.html#ch08fig04">Figure 8.4</A> if we replace the final argument to <TT>sendto</TT> (which we show as <TT>len</TT>) with <TT>clilen</TT>?</P></TD></TR><TR valign="top"><TD align="right" class="docText"><A NAME="ch08q03"></A><B>8.3</B></TD><TD><P class="docText">Compile and run the UDP server in <A class="docLink" HREF="0131411551_ch08lev1sec3.html#ch08fig03">Figures 8.3</A> and <A class="docLink" HREF="0131411551_ch08lev1sec4.html#ch08fig04">8.4</A> and then the UDP client in <A class="docLink" HREF="0131411551_ch08lev1sec5.html#ch08fig07">Figures 8.7</A> and <A class="docLink" HREF="0131411551_ch08lev1sec6.html#ch08fig08">8.8</A>. Verify that the client and server work together.</P></TD></TR><TR valign="top"><TD align="right" class="docText"><A NAME="ch08q04"></A><B><A class="docLink" HREF="0131411551_app05lev1sec8.html#ch08a04">8.4</A></B></TD><TD><P class="docText">Run the <TT>ping</TT> program in one window, specifying the <TT>-i 60</TT> option (send one packet every 60 seconds; some systems use <TT>-I</TT> instead of <TT>-i</TT>), the <TT>-v</TT> option (print all received ICMP errors), and the loopback address (normally 127.0.0.1). We will use this program to see the ICMP port unreachable returned by the server host. Next, run our client from the previous exercise in another window, specifying the IP address of some host that is not running the server. What happens?</P></TD></TR><TR valign="top"><TD align="right" class="docText"><A NAME="ch08q05"></A><B><A class="docLink" HREF="0131411551_app05lev1sec8.html#ch08a05">8.5</A></B></TD><TD><P class="docText">We said with <A class="docLink" HREF="0131411551_ch08lev1sec4.html#ch08fig05">Figure 8.5</A> that each connected TCP socket has its own socket receive buffer. What about the listening socket; do you think it has its own socket receive buffer?</P></TD></TR><TR valign="top"><TD align="right" class="docText"><A NAME="ch08q06"></A><B><A class="docLink" HREF="0131411551_app05lev1sec8.html#ch08a06">8.6</A></B></TD><TD><P class="docText">Use the <TT>sock</TT> program (<A class="docLink" HREF="0131411551_app03lev1sec3.html#app03lev1sec3">Section C.3</A>) and a tool such as <TT>tcpdump</TT> (<A class="docLink" HREF="0131411551_app03lev1sec5.html#app03lev1sec5">Section C.5</A>) to test what we claimed in <A class="docLink" HREF="0131411551_ch08lev1sec10.html#ch08lev1sec10">Section 8.10</A>: If the client <TT>binds</TT> an IP address to its socket but sends a datagram that goes out some other interface, the resulting IP datagram still contains the IP address that was bound to the socket, even though this does not correspond to the outgoing interface.</P></TD></TR><TR valign="top"><TD align="right" class="docText"><A NAME="ch08q07"></A><B><A class="docLink" HREF="0131411551_app05lev1sec8.html#ch08a07">8.7</A></B></TD><TD><P class="docText">Compile the programs from <A class="docLink" HREF="0131411551_ch08lev1sec13.html#ch08lev1sec13">Section 8.13</A> and run the client and server on different hosts. Put a <TT>printf</TT> in the client each time a datagram is written to the socket. Does this change the percentage of received packets? Why? Put a <TT>printf</TT> in the server each time a datagram is read from the socket. Does this change the percentage of received packets? Why?</P></TD></TR><TR valign="top"><TD align="right" class="docText"><A NAME="ch08q08"></A><B><A class="docLink" HREF="0131411551_app05lev1sec8.html#ch08a08">8.8</A></B></TD><TD><P class="docText">What is the largest length that we can pass to <TT>sendto</TT> for a UDP/IPv4 socket, that is, what is the largest amount of data that can fit into a UDP/IPv4 datagram? What changes with UDP/IPv6?</P>
<P class="docText">Modify <A class="docLink" HREF="0131411551_ch08lev1sec6.html#ch08fig08">Figure 8.8</A> to send one maximum-size UDP datagram, read it back, and print the number of bytes returned by <TT>recvfrom</TT>.</P>
</TD></TR><TR valign="top"><TD align="right" class="docText"><A NAME="ch08q097"></A><B>8.9</B></TD><TD><P class="docText">Modify <A class="docLink" HREF="0131411551_ch08lev1sec15.html#ch08fig25">Figure 8.25</A> to conform to RFC 1122 by using <TT>IP_RECVDSTADDR</TT> for the UDP socket.</P></TD></TR></TABLE></P><br>

<a href="0131411551_23961534.html"><img src="FILES/pixel.gif" width="1" height="1" border="0"></a><ul></ul></td></tr></table>
<td></td>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
          <a href="0131411551_ch08lev1sec16.html"><img src="FILES/btn_prev.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
          <a href="0131411551_ch09.html"><img src="FILES/btn_next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
</body></html>
