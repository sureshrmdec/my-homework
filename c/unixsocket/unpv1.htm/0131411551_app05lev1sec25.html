<html><head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!--SafClassName="docSection1Title"--><!--SafTocEntry="Chapter 27"-->
<link rel="STYLESHEET" type="text/css" href="FILES/style.css">
<link rel="STYLESHEET" type="text/css" href="FILES/docsafari.css">
<style type="text/css">	.tt1    {font-size: 10pt;}</style>
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
	<a href="0131411551_app05lev1sec24.html"><img src="FILES/btn_prev.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
	<a href="0131411551_app05lev1sec26.html"><img src="FILES/btn_next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td valign="top"><A NAME="app05lev1sec25"></A>
<H3 class="docSection1Title"> Chapter 27</H3>
<P><TABLE BORDER="0" cellspacing="16" cellpadding="0"><TR valign="top"><TD align="right" class="docText"><B></B></TD><TD><P class="docText"></P></TD></TR><TR valign="top"><TD align="right" class="docText"><A NAME="ch27a01"></A><B><A class="docLink" HREF="0131411551_ch27lev1sec10.html#ch27q01">27.1</A></B></TD><TD><P class="docText">Nothing changes; all the systems are neighbors, so a strict source route is identical to a loose source route.</P></TD></TR><TR valign="top"><TD align="right" class="docText"><B></B></TD><TD><P class="docText"></P></TD></TR><TR valign="top"><TD align="right" class="docText"><A NAME="ch27a02"></A><B><A class="docLink" HREF="0131411551_ch27lev1sec10.html#ch27q02">27.2</A></B></TD><TD><P class="docText">We would place an EOL (a byte of 0) at the end of the buffer.</P></TD></TR><TR valign="top"><TD align="right" class="docText"><B></B></TD><TD><P class="docText"></P></TD></TR><TR valign="top"><TD align="right" class="docText"><A NAME="ch27a03"></A><B><A class="docLink" HREF="0131411551_ch27lev1sec10.html#ch27q03">27.3</A></B></TD><TD><P class="docText">Since <TT>ping</TT> creates a raw socket (<A class="docLink" HREF="0131411551_ch28.html#ch28">Chapter 28</A>), it receives the complete IP header, including any IP options, on every datagram it reads with <TT>recvfrom</TT>.</P></TD></TR><TR valign="top"><TD align="right" class="docText"><B></B></TD><TD><P class="docText"></P></TD></TR><TR valign="top"><TD align="right" class="docText"><A NAME="ch27a04"></A><B><A class="docLink" HREF="0131411551_ch27lev1sec10.html#ch27q04">27.4</A></B></TD><TD><P class="docText"><TT>rlogind</TT> is invoked by <TT>inetd</TT> (<A class="docLink" HREF="0131411551_ch13lev1sec5.html#ch13lev1sec5">Section 13.5</A>), so descriptor 0 is the socket to the client.</P></TD></TR><TR valign="top"><TD align="right" class="docText"><B></B></TD><TD><P class="docText"></P></TD></TR><TR valign="top"><TD align="right" class="docText"><A NAME="ch27a05"></A><B><A class="docLink" HREF="0131411551_ch27lev1sec10.html#ch27q05">27.5</A></B></TD><TD><P class="docText">The problem is that the fifth argument to <TT>setsockopt</TT> is the pointer to the length, instead of the length. This bug was probably fixed when ANSI C prototypes were first used.</P><P class="docText">As it turns out, the bug is harmless, because as we mentioned, to clear the <TT>IP_OPTIONS</TT> socket option, we can specify either a null pointer as the fourth argument or a fifth argument (the length) of 0 (p.269 of TCPv2).</P></TD></TR></TABLE></P><br>
<P class="docText"></P>

<a href="0131411551_22961534.html"><img src="FILES/pixel.gif" width="1" height="1" border="0"></a><ul></ul></td></tr></table>
<td></td>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<td class="tt1"><a href="NFO/lib.html">[ Team LiB ]</a></td><td valign="top" class="tt1" align="right">
          <a href="0131411551_app05lev1sec24.html"><img src="FILES/btn_prev.gif" width="62" height="15" border="0" align="absmiddle" alt="Previous Section"></a>
          <a href="0131411551_app05lev1sec26.html"><img src="FILES/btn_next.gif" width="41" height="15" border="0" align="absmiddle" alt="Next Section"></a>
</td></table>
</body></html>
